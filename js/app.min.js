function ProjectsController($scope,$http){$http.get("js/data.json").success(function(data){$scope.projects=data}).error(function(data){document.write(data)})}function ProjectController($scope,$routeParams,$http,$location,$filter){$http.get("js/data.json").success(function(data){for(var project=0;project<data.length;++project){var name=$filter("url")($filter("lowercase")(data[project].name));if($routeParams.name==name)return $scope.project=data[project],project>0&&($scope.prevProject=data[project-1].name),project<data.length-1&&($scope.nextProject=data[project+1].name),void 0}$location.path("/projects")})}var app=angular.module("mls-design",[]);app.config(["$routeProvider",function($routeProvider){$routeProvider.when("/projects",{templateUrl:"partials/projects.html",controller:ProjectsController}).when("/project/:name",{templateUrl:"partials/project-detail.html",controller:ProjectController}).when("/about",{templateUrl:"partials/about.html"}).when("/contact",{templateUrl:"partials/contact.html"}).otherwise({redirectTo:"/projects"})}]),app.value("$anchorScroll",angular.noop),app.filter("url",function(){return function(input){return input?input.replace(/\s+/g,"-"):void 0}}),app.directive("flexslider",function(){return function(scope,element,attrs){scope.$watch(attrs.flexslider,function(){setTimeout(function(){element.flexslider({animation:"slide"})},100)})}}),app.directive("delayedFadeIn",function(){return function(scope,element,attrs){scope.$watch(attrs.delayedFadeIn,function(){var src=element.children(":first").children(":first").data("src"),img=$("<img>");img.attr("src",src),img.on("load",function(){img.appendTo(element.children(":first").children(":first")),element.addClass("animated"),element.animate({opacity:0},0),setTimeout(function(){element.addClass("grow-in")},1e3*Math.random())})})}}),app.directive("fadeIn",function(){return function(scope,element,attrs){scope.$watch(attrs.fadeIn,function(){element.addClass("animated"),element.addClass("fade-in")})}}),app.directive("fadeInDown",function(){return function(scope,element,attrs){scope.$watch(attrs.fadeInDown,function(){var src=element.data("src"),img=$("<img>");img.attr("src",src),img.on("load",function(){img.appendTo(element.children(":first")),img.addClass("animated"),img.addClass("fade-in-down")})})}});